## 176. Second Highest Salary

### SQL schema
```mysql
Create table If Not Exists Employee (Id int, Salary int)
Truncate table Employee
insert into Employee (Id, Salary) values ('1', '100')
insert into Employee (Id, Salary) values ('2', '200')
insert into Employee (Id, Salary) values ('3', '300')
```

```
Write a SQL query to get the second highest salary from the Employee table.

+----+--------+
| Id | Salary |
+----+--------+
| 1  | 100    |
| 2  | 200    |
| 3  | 300    |
+----+--------+
For example, given the above Employee table, the query should return 200 as the second highest salary. 
If there is no second highest salary, then the query should return null.

+---------------------+
| SecondHighestSalary |
+---------------------+
| 200                 |
+---------------------+
```

### mycode
#### failed 1
* run succeed, test failed
* can't deal with the 'one record returns null' problem
* if just one record, this returns [], not null
```mysql
select salary as SecondHighestSalary 
from 
(select 
    Id, salary,
    rank() over (order by Salary) as rank_salary
 from Employee ) as rankedEmp
 where rank_salary=2
```

otherâ€˜s
* notice how to use **where** 
```mysql
SELECT max(Salary) AS SecondHighestSalary
FROM Employee
WHERE Salary < (SELECT max(Salary) FROM Employee)
```

other's
* manually add one **null** in the begining
```mysql
SELECT DISTINCT Salary AS SecondHighestSalary 
FROM Employee 
UNION ALL (SELECT null AS Salary)
order by SecondHighestSalary desc
limit 1 offset 1
```

